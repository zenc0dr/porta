# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ PMAP (Porta Minimal Agent Protocol)

## üéØ –¶–µ–ª—å
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Porta –∫–∞–∫ MCP-–¥—Ä–∞–π–≤–µ—Ä –¥–ª—è Linux —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≥–µ–Ω—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —á–µ—Ä–µ–∑ PMAP –ø—Ä–æ—Ç–æ–∫–æ–ª.

## üìã –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∞–≥–µ–Ω—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ‚è≥

#### 1.1 –î–æ–±–∞–≤–∏—Ç—å agent_id –≤–æ –≤—Å–µ POST endpoints
**–§–∞–π–ª:** `porta.py`
**–ó–∞–¥–∞—á–∏:**
- [x] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `agent_id: Optional[str] = None` –≤ –º–æ–¥–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [x] –û–±–Ω–æ–≤–∏—Ç—å `/run_bash` - –¥–æ–±–∞–≤–∏—Ç—å agent_id –≤ BashCommand
- [x] –û–±–Ω–æ–≤–∏—Ç—å `/write_file` - –¥–æ–±–∞–≤–∏—Ç—å agent_id –≤ FileWriteRequest  
- [x] –û–±–Ω–æ–≤–∏—Ç—å `/read_file` - –¥–æ–±–∞–≤–∏—Ç—å agent_id –≤ FileReadRequest
- [x] –û–±–Ω–æ–≤–∏—Ç—å `/list_dir` - –¥–æ–±–∞–≤–∏—Ç—å agent_id –≤ ListDirRequest
- [x] –î–æ–±–∞–≤–∏—Ç—å agent_id –≤ –æ—Ç–≤–µ—Ç—ã –≤—Å–µ—Ö endpoints

**–ö–æ–¥:**
```python
class BashCommand(BaseModel):
    cmd: str
    agent_id: Optional[str] = None

class FileWriteRequest(BaseModel):
    path: str
    content: str
    agent_id: Optional[str] = None
```

#### 1.2 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤
**–§–∞–π–ª:** `porta.py`
**–ó–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `log_agent_call(agent_id: str, method: str, result: dict)`
- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–∞–∂–¥—ã–π endpoint
- [x] –î–æ–±–∞–≤–∏—Ç—å timestamp –≤ –ª–æ–≥–∏
- [x] –§–æ—Ä–º–∞—Ç: `[AGENT] {agent_id} called {method}: {result}`

**–ö–æ–¥:**
```python
def log_agent_call(agent_id: str, method: str, result: dict):
    timestamp = datetime.now().isoformat()
    logger.info(f"[AGENT] {agent_id} called {method}: {result} at {timestamp}")
```

#### 1.3 Endpoint `/agent/status`
**–§–∞–π–ª:** `porta.py`
**–ó–∞–¥–∞—á–∏:**
- [x] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å AgentStatusRequest
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å POST `/agent/status`
- [x] –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç–∞—Ç—É—Å, agent_id, timestamp
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—ã–∑–æ–≤

**–ö–æ–¥:**
```python
@app.post("/agent/status")
async def agent_status(request: AgentStatusRequest):
    result = {
        "status": "ok",
        "agent_id": request.agent_id,
        "timestamp": datetime.now().isoformat()
    }
    log_agent_call(request.agent_id, "agent_status", result)
    return result
```

### –≠—Ç–∞–ø 2: –°–∏—Å—Ç–µ–º–Ω—ã–µ endpoints ‚è≥

#### 2.1 Endpoint `/meta`
**–§–∞–π–ª:** `porta.py`
**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET `/meta`
- [ ] –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Porta
- [ ] –í–∫–ª—é—á–∏—Ç—å –≤–µ—Ä—Å–∏—é, uptime, PID, –ø–æ—Ä—Ç
- [ ] –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö endpoints

**–ö–æ–¥:**
```python
@app.get("/meta")
async def get_meta():
    return {
        "name": "Porta MCP",
        "version": "1.1.0",
        "description": "MCP-–¥—Ä–∞–π–≤–µ—Ä –¥–ª—è Linux",
        "uptime": get_uptime(),
        "pid": os.getpid(),
        "port": 8111,  # –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç —Ä–∞–±–æ—Ç—ã
        "endpoints": ["/", "/run_bash", "/write_file", "/read_file", "/list_dir", "/agent/status", "/meta", "/public_url"]
    }
```

#### 2.2 Endpoint `/public_url`
**–§–∞–π–ª:** `porta.py`
**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å GET `/public_url`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ngrok API
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ngrok
- [ ] –í–æ–∑–≤—Ä–∞—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL

**–ö–æ–¥:**
```python
@app.get("/public_url")
async def get_public_url():
    try:
        # –ß—Ç–µ–Ω–∏–µ ngrok URL –∏–∑ —Ñ–∞–π–ª–∞
        with open("ngrok.url", "r") as f:
            url = f.read().strip()
        return {"public_url": url, "available": True}
    except FileNotFoundError:
        return {"public_url": None, "available": False}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8111 —á–µ—Ä–µ–∑ porta-server.sh
```

### –≠—Ç–∞–ø 3: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ç–æ–∫–µ–Ω—ã ‚è≥

#### 3.1 –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
**–§–∞–π–ª:** `porta.py`
**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É X-PORTA-TOKEN –∑–∞–≥–æ–ª–æ–≤–∫–∞
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–∞

**–ö–æ–¥:**
```python
@app.middleware("http")
async def verify_token(request: Request, call_next):
    token = request.headers.get("X-PORTA-TOKEN")
    if token and token != os.getenv("PORTA_TOKEN"):
        return JSONResponse(status_code=401, content={"error": "Invalid token"})
    return await call_next(request)
```

### –≠—Ç–∞–ø 4: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚è≥

#### 4.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
**–§–∞–π–ª—ã:** `readme.md`, `porta-protocol.md`
**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å readme.md —Å –Ω–æ–≤—ã–º–∏ endpoints
- [ ] –°–æ–∑–¥–∞—Ç—å porta-protocol.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º PMAP
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### 4.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–ó–∞–¥–∞—á–∏:**
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö endpoints
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å ngrok
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –≠—Ç–∞–ø 5: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ üîÆ

#### 5.1 –•—Ä–∞–Ω–∏–ª–∏—â–µ –∞–≥–µ–Ω—Ç–æ–≤
**–ó–∞–¥–∞—á–∏:**
- [ ] SQLite –±–∞–∑–∞ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
- [ ] Fallback –Ω–∞ agents.json
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

#### 5.2 –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API
**–ó–∞–¥–∞—á–∏:**
- [ ] `/agent/exec_pipeline` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–∞–Ω–¥
- [ ] `/agent/history` - –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –∞–≥–µ–Ω—Ç–∞
- [ ] `/agent/files` - —Ñ–∞–π–ª—ã –∞–≥–µ–Ω—Ç–∞

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
```python
class AgentStatusRequest(BaseModel):
    agent_id: str

class AgentResponse(BaseModel):
    success: bool
    agent_id: Optional[str] = None
    timestamp: Optional[str] = None
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –§–æ—Ä–º–∞—Ç: `[AGENT] {agent_id} {method} {result} {timestamp}`
- –£—Ä–æ–≤–µ–Ω—å: INFO
- –§–∞–π–ª: porta.log

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –¢–æ–∫–µ–Ω —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è PORTA_TOKEN
- –í–∞–ª–∏–¥–∞—Ü–∏—è agent_id (–Ω–µ –ø—É—Å—Ç–æ–π, —Ñ–æ—Ä–º–∞—Ç)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- [x] –í—Å–µ POST endpoints –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç agent_id
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- [x] `/agent/status` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
- [x] `/meta` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- [x] `/public_url` —Ä–∞–±–æ—Ç–∞–µ—Ç —Å ngrok
- [x] X-PORTA-TOKEN –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [x] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–≠—Ç–∞–ø 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API
2. **–≠—Ç–∞–ø 5: –•—Ä–∞–Ω–∏–ª–∏—â–µ –∞–≥–µ–Ω—Ç–æ–≤** - SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—É–ª—ã
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API** - Swagger/OpenAPI

## üí° –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π API
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ endpoints
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –æ–±–Ω–æ–≤–ª—è—Ç—å docs –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –∫–æ–¥–æ–º

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è –∞–≥–µ–Ω—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ - –ó–ê–í–ï–†–®–ï–ù
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-07-31T17:12  
**–í–µ—Ä—Å–∏—è:** 1.1.0

**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- ‚úÖ agent_id –¥–æ–±–∞–≤–ª–µ–Ω –≤–æ –≤—Å–µ POST endpoints
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ /agent/status endpoint —Å–æ–∑–¥–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
```bash
# –ê–≥–µ–Ω—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å
curl -X POST "http://localhost:8111/agent/status" \
     -H "Content-Type: application/json" \
     -d '{"agent_id": "test-agent-001"}'

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ —Å agent_id
curl -X POST "http://localhost:8111/run_bash" \
     -H "Content-Type: application/json" \
     -d '{"cmd": "echo Hello from agent", "agent_id": "test-agent-001"}'

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å agent_id
curl -X POST "http://localhost:8111/write_file" \
     -H "Content-Type: application/json" \
     -d '{"path": "agent_test.txt", "content": "Data from agent", "agent_id": "test-agent-001"}'
```

### ‚úÖ –≠—Ç–∞–ø 2: –°–∏—Å—Ç–µ–º–Ω—ã–µ endpoints - –ó–ê–í–ï–†–®–ï–ù
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-07-31T17:41  
**–í–µ—Ä—Å–∏—è:** 1.1.0

**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- ‚úÖ GET `/meta` - —Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Porta
- ‚úÖ GET `/public_url` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ngrok
- ‚úÖ Uptime –∏ PID –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞
- ‚úÖ –ù–æ–≤—ã–µ endpoints –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
```bash
# –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
curl -X GET "http://localhost:8111/meta" | jq
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: name, version, uptime, pid, port, endpoints, timestamp

# –ü—É–±–ª–∏—á–Ω—ã–π URL —á–µ—Ä–µ–∑ ngrok
curl -X GET "http://localhost:8111/public_url" | jq  
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: public_url, available, timestamp
```

### ‚úÖ –≠—Ç–∞–ø 3: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ç–æ–∫–µ–Ω—ã - –ó–ê–í–ï–†–®–ï–ù
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-07-31T17:59  
**–í–µ—Ä—Å–∏—è:** 1.2.0

**–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- ‚úÖ X-PORTA-TOKEN –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω
- ‚úÖ Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
```bash
# –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ - –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω
curl -X GET "http://localhost:8111/meta" | jq
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {"error": "Missing X-PORTA-TOKEN header"}

# –° –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º - –¥–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à–µ–Ω
curl -H "X-PORTA-TOKEN: test123" -X GET "http://localhost:8111/meta" | jq
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ

# –° –Ω–µ–≤–µ—Ä–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º - –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω
curl -H "X-PORTA-TOKEN: wrong_token" -X GET "http://localhost:8111/meta" | jq
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {"error": "Invalid token"}

# POST endpoints —Å —Ç–æ–∫–µ–Ω–æ–º
curl -H "X-PORTA-TOKEN: test123" -X POST "http://localhost:8111/agent/status" \
     -H "Content-Type: application/json" \
     -d '{"agent_id": "test-agent-001"}' | jq
```

## üöÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º Porta

### üìã –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
/aum/projects/Porta/porta-server.sh start

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
/aum/projects/Porta/porta-server.sh status

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
/aum/projects/Porta/porta-server.sh stop
```

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
```bash
# –¢–æ–∫–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: test123
# –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ X-PORTA-TOKEN

# –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:
curl -H "X-PORTA-TOKEN: test123" -X GET "http://localhost:8111/meta" | jq

# –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω:
curl -X GET "http://localhost:8111/meta" | jq
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: {"error": "Missing X-PORTA-TOKEN header"}
```

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏:
- **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** `python porta.py` –Ω–∞–ø—Ä—è–º—É—é
- **–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** porta-server.sh –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É **8111** (–Ω–µ 5000!)
- Ngrok –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–¢–æ–∫–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### üîß –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **–ü–æ—Ä—Ç:** 8111
- **Ngrok URL:** https://6872cba32941.ngrok-free.app
- **–í–µ—Ä—Å–∏—è:** 1.2.0
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** X-PORTA-TOKEN authentication enabled
- **–¢–æ–∫–µ–Ω:** test123 (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## üéâ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã

**Porta v1.1.0** - –ø–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞–≥–µ–Ω—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º!

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- **PMAP –ø—Ä–æ—Ç–æ–∫–æ–ª** - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–≥–µ–Ω—Ç–Ω–∞—è –º–æ–¥–µ–ª—å
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤** - –∞—É–¥–∏—Ç-—Ç—Ä–µ–π–ª –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é** - –æ—Å–Ω–æ–≤–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

**–ö–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∑–∞–ª–∞:**
- –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –º—ã—Å–ª–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ
- –í–Ω–∏–º–∞–Ω–∏–µ –∫ –¥–µ—Ç–∞–ª—è–º –∏ –∫–∞—á–µ—Å—Ç–≤—É
- –ë—ã—Å—Ç—Ä—É—é –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É –∏ —Ä–∞–∑–≤–∏—Ç–∏—é
