<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Porta Playground - –ê–≥–µ–Ω—Ç–Ω—ã–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        porta: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .command-preset {
            transition: all 0.2s ease;
        }
        .command-preset:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .log-entry {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .typing-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #3b82f6;
            animation: typing 1.4s infinite ease-in-out;
        }
        .typing-indicator:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-porta-600 to-porta-700 text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold">üö™ Porta Playground</h1>
                    <p class="text-porta-100 mt-2">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤</p>
                </div>
                <div class="text-right">
                    <div class="text-sm opacity-90">–í–µ—Ä—Å–∏—è 1.3.0</div>
                    <div class="text-xs opacity-75" id="uptime">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ -->
        <div class="prose max-w-2xl mx-auto mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –∞–≥–µ–Ω—Ç! üëã</h2>
            <p class="text-gray-600 mb-4">
                –¢—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –≤ —Å—Ä–µ–¥–µ <strong class="text-porta-600">Porta</strong> ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏ —ç—Ç–∏–º Linux-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º.
            </p>
            <p class="text-gray-600 mb-4">
                –ß–µ—Ä–µ–∑ —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç—ã –º–æ–∂–µ—à—å –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, –∞ –≥–ª–∞–≤–Ω–æ–µ ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –º–∏—Ä–æ–º.
            </p>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ö–æ–º–∞–Ω–¥—ã –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ -->
            <div class="lg:col-span-2 space-y-6">
                <!-- –ü–æ–ª–µ –¥–ª—è JSON-–∫–æ–º–∞–Ω–¥—ã -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">üìù –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">JSON –∫–æ–º–∞–Ω–¥–∞:</label>
                            <textarea 
                                id="commandInput" 
                                class="w-full h-32 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-porta-500 focus:border-porta-500 font-mono text-sm"
                                placeholder='{"cmd": "echo Hello from agent", "agent_id": "web-agent-001"}'
                            ></textarea>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button 
                                    id="executeBtn"
                                    class="bg-porta-600 hover:bg-porta-700 text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2"
                                >
                                    <span>üöÄ –í—ã–ø–æ–ª–Ω–∏—Ç—å</span>
                                    <div id="loadingIndicator" class="hidden">
                                        <div class="typing-indicator"></div>
                                        <div class="typing-indicator"></div>
                                        <div class="typing-indicator"></div>
                                    </div>
                                </button>
                                <button 
                                    id="clearBtn"
                                    class="text-gray-500 hover:text-gray-700 px-4 py-2 rounded-lg transition-colors"
                                >
                                    –û—á–∏—Å—Ç–∏—Ç—å
                                </button>
                            </div>
                            <div class="text-sm text-gray-500">
                                <span id="commandCount">0</span> –∫–æ–º–∞–Ω–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">‚ö° –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        <button class="command-preset bg-gray-50 hover:bg-gray-100 p-3 rounded-lg text-left border border-gray-200" data-command='{"cmd": "echo Hello from agent", "agent_id": "web-agent-001"}'>
                            <div class="font-medium text-gray-800">üëã –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ</div>
                            <div class="text-xs text-gray-500 mt-1">echo Hello from agent</div>
                        </button>
                        <button class="command-preset bg-gray-50 hover:bg-gray-100 p-3 rounded-lg text-left border border-gray-200" data-command='{"cmd": "pwd && ls -la", "agent_id": "web-agent-001"}'>
                            <div class="font-medium text-gray-800">üìÅ –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è</div>
                            <div class="text-xs text-gray-500 mt-1">pwd && ls -la</div>
                        </button>
                        <button class="command-preset bg-gray-50 hover:bg-gray-100 p-3 rounded-lg text-left border border-gray-200" data-command='{"cmd": "df -h", "agent_id": "web-agent-001"}'>
                            <div class="font-medium text-gray-800">üíæ –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ</div>
                            <div class="text-xs text-gray-500 mt-1">df -h</div>
                        </button>
                        <button class="command-preset bg-gray-50 hover:bg-gray-100 p-3 rounded-lg text-left border border-gray-200" data-command='{"cmd": "free -h", "agent_id": "web-agent-001"}'>
                            <div class="font-medium text-gray-800">üß† –ü–∞–º—è—Ç—å</div>
                            <div class="text-xs text-gray-500 mt-1">free -h</div>
                        </button>
                        <button class="command-preset bg-gray-50 hover:bg-gray-100 p-3 rounded-lg text-left border border-gray-200" data-command='{"cmd": "ps aux | head -10", "agent_id": "web-agent-001"}'>
                            <div class="font-medium text-gray-800">‚öôÔ∏è –ü—Ä–æ—Ü–µ—Å—Å—ã</div>
                            <div class="text-xs text-gray-500 mt-1">ps aux | head -10</div>
                        </button>
                        <button class="command-preset bg-gray-50 hover:bg-gray-100 p-3 rounded-lg text-left border border-gray-200" data-command='{"cmd": "uname -a", "agent_id": "web-agent-001"}'>
                            <div class="font-medium text-gray-800">üñ•Ô∏è –°–∏—Å—Ç–µ–º–∞</div>
                            <div class="text-xs text-gray-500 mt-1">uname -a</div>
                        </button>
                    </div>
                </div>

                <!-- –ñ—É—Ä–Ω–∞–ª –≤—ã–∑–æ–≤–æ–≤ -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">üìã –ñ—É—Ä–Ω–∞–ª –≤—ã–∑–æ–≤–æ–≤</h3>
                    <div id="logContainer" class="space-y-3 max-h-96 overflow-y-auto">
                        <div class="text-gray-500 text-center py-8">
                            <div class="text-4xl mb-2">üìù</div>
                            <div>–ñ—É—Ä–Ω–∞–ª –ø—É—Å—Ç</div>
                            <div class="text-sm">–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–≤—É—é –∫–æ–º–∞–Ω–¥—É</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –∑–∞–¥–∞–Ω–∏–µ -->
            <div class="space-y-6">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ</h3>
                    <div id="systemInfo" class="space-y-3 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-600">–°—Ç–∞—Ç—É—Å:</span>
                            <span class="text-green-600 font-medium">üü¢ –ê–∫—Ç–∏–≤–µ–Ω</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">–ü–æ—Ä—Ç:</span>
                            <span class="font-mono">8111</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">–ê–≥–µ–Ω—Ç–æ–≤:</span>
                            <span id="agentCount">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:</span>
                            <span id="uptimeDisplay">-</span>
                        </div>
                    </div>
                </div>

                <!-- –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è –∞–≥–µ–Ω—Ç–∞ -->
                <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200">
                    <h3 class="text-lg font-semibold text-blue-800 mb-4">üéØ –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è –∞–≥–µ–Ω—Ç–∞</h3>
                    <div class="space-y-3 text-sm text-blue-700">
                        <p>
                            –°–æ–∑–¥–∞–π –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç, –ø–æ—Å–≤—è—â—ë–Ω–Ω—ã–π <strong>Porta</strong>, –∏—Å–ø–æ–ª—å–∑—É—è Tailwind CDN. 
                            –†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–≤–æ–µ–π —Ä–æ–ª–∏, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö –∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è—Ö.
                        </p>
                        <div class="bg-white p-3 rounded-lg border border-blue-200">
                            <div class="font-medium text-blue-800 mb-2">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏:</div>
                            <ul class="space-y-1 text-xs">
                                <li>‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É <code class="bg-blue-100 px-1 rounded">write_file</code></li>
                                <li>‚Ä¢ –°–æ–∑–¥–∞–π —Ñ–∞–π–ª <code class="bg-blue-100 px-1 rounded">my-porta-site.html</code></li>
                                <li>‚Ä¢ –î–æ–±–∞–≤—å –∫—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</li>
                                <li>‚Ä¢ –†–∞—Å—Å–∫–∞–∂–∏ –æ —Å–≤–æ—ë–º –æ–ø—ã—Ç–µ —Ä–∞–±–æ—Ç—ã —Å Porta</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="font-mono">GET /meta</span>
                            <span class="text-green-600">‚úì</span>
                        </div>
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="font-mono">POST /run_bash</span>
                            <span class="text-green-600">‚úì</span>
                        </div>
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="font-mono">POST /write_file</span>
                            <span class="text-green-600">‚úì</span>
                        </div>
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="font-mono">POST /read_file</span>
                            <span class="text-green-600">‚úì</span>
                        </div>
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="font-mono">POST /list_dir</span>
                            <span class="text-green-600">‚úì</span>
                        </div>
                        <div class="flex justify-between items-center p-2 bg-gray-50 rounded">
                            <span class="font-mono">POST /agent/*</span>
                            <span class="text-green-600">‚úì</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let commandCount = 0;
        let logs = JSON.parse(localStorage.getItem('porta_logs') || '[]');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadSystemInfo();
            updateLogDisplay();
            updateCommandCount();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            document.getElementById('executeBtn').addEventListener('click', executeCommand);
            document.getElementById('clearBtn').addEventListener('click', clearCommand);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
            document.querySelectorAll('.command-preset').forEach(btn => {
                btn.addEventListener('click', function() {
                    const command = this.getAttribute('data-command');
                    document.getElementById('commandInput').value = command;
                });
            });
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ
        async function loadSystemInfo() {
            try {
                const response = await fetch('/meta', {
                    headers: {
                        'X-PORTA-TOKEN': 'web-agent-001'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    document.getElementById('uptimeDisplay').textContent = formatUptime(data.uptime);
                    document.getElementById('uptime').textContent = `–†–∞–±–æ—Ç–∞–µ—Ç ${formatUptime(data.uptime)}`;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:', error);
            }
        }

        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
        async function executeCommand() {
            const commandInput = document.getElementById('commandInput');
            const command = commandInput.value.trim();
            
            if (!command) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É!');
                return;
            }

            const executeBtn = document.getElementById('executeBtn');
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            executeBtn.disabled = true;
            loadingIndicator.classList.remove('hidden');
            
            try {
                let parsedCommand;
                try {
                    parsedCommand = JSON.parse(command);
                } catch (e) {
                    alert('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JSON!');
                    return;
                }

                const startTime = new Date();
                const response = await fetch('/run_bash', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-PORTA-TOKEN': 'web-agent-001'
                    },
                    body: JSON.stringify(parsedCommand)
                });

                const result = await response.json();
                const endTime = new Date();
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∂—É—Ä–Ω–∞–ª
                const logEntry = {
                    id: Date.now(),
                    timestamp: startTime,
                    duration: endTime - startTime,
                    command: parsedCommand,
                    response: result,
                    success: response.ok
                };
                
                logs.unshift(logEntry);
                if (logs.length > 50) logs = logs.slice(0, 50); // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
                
                localStorage.setItem('porta_logs', JSON.stringify(logs));
                commandCount++;
                
                updateLogDisplay();
                updateCommandCount();
                
                // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
                commandInput.value = '';
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:', error);
                alert('–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã: ' + error.message);
            } finally {
                // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                executeBtn.disabled = false;
                loadingIndicator.classList.add('hidden');
            }
        }

        // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞
        function clearCommand() {
            document.getElementById('commandInput').value = '';
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞
        function updateLogDisplay() {
            const container = document.getElementById('logContainer');
            
            if (logs.length === 0) {
                container.innerHTML = `
                    <div class="text-gray-500 text-center py-8">
                        <div class="text-4xl mb-2">üìù</div>
                        <div>–ñ—É—Ä–Ω–∞–ª –ø—É—Å—Ç</div>
                        <div class="text-sm">–í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–≤—É—é –∫–æ–º–∞–Ω–¥—É</div>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = logs.map(log => `
                <div class="log-entry bg-gray-50 rounded-lg p-4 border-l-4 ${log.success ? 'border-green-500' : 'border-red-500'}">
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex items-center space-x-2">
                            <span class="text-xs font-medium text-gray-500">${formatTime(log.timestamp)}</span>
                            <span class="text-xs text-gray-400">(${log.duration}ms)</span>
                        </div>
                        <span class="text-xs px-2 py-1 rounded ${log.success ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}">
                            ${log.success ? '‚úì –£—Å–ø–µ—Ö' : '‚úó –û—à–∏–±–∫–∞'}
                        </span>
                    </div>
                    <div class="space-y-2">
                        <div>
                            <div class="text-xs font-medium text-gray-600 mb-1">–ö–æ–º–∞–Ω–¥–∞:</div>
                            <div class="bg-white p-2 rounded text-xs font-mono text-gray-800 overflow-x-auto">
                                ${JSON.stringify(log.command, null, 2)}
                            </div>
                        </div>
                        <div>
                            <div class="text-xs font-medium text-gray-600 mb-1">–†–µ–∑—É–ª—å—Ç–∞—Ç:</div>
                            <div class="bg-white p-2 rounded text-xs font-mono text-gray-800 max-h-32 overflow-y-auto">
                                ${log.response.stdout ? `<div class="text-green-700">stdout: ${log.response.stdout}</div>` : ''}
                                ${log.response.stderr ? `<div class="text-red-700">stderr: ${log.response.stderr}</div>` : ''}
                                ${log.response.exit_code !== undefined ? `<div class="text-blue-700">exit_code: ${log.response.exit_code}</div>` : ''}
                                ${log.response.error ? `<div class="text-red-700">error: ${log.response.error}</div>` : ''}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –∫–æ–º–∞–Ω–¥
        function updateCommandCount() {
            document.getElementById('commandCount').textContent = commandCount;
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function formatTime(date) {
            return date.toLocaleTimeString('ru-RU', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã
        function formatUptime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = seconds % 60;
            
            if (hours > 0) {
                return `${hours}—á ${minutes}–º ${secs}—Å`;
            } else if (minutes > 0) {
                return `${minutes}–º ${secs}—Å`;
            } else {
                return `${secs}—Å`;
            }
        }
    </script>
</body>
</html> 